import{r as h,j as e,a9 as p,af as f,ag as F,ah as N,_ as d,P as M,ai as j,aj as k,ak as C,ac as D,al as T}from"./index-DMLDlOV-.js";import{D as P,a as A,b as E,c as q}from"./DialogTitle-D2JH78aD.js";const B=["Planning","Execution","Review","Reporting"],H={Planning:["Team Management","Resource Allocation"],Execution:["Development","Deployment"],Review:["Milestone Review","Code Review"],Reporting:["Weekly Report","Final Report"]},L={"Team Management":["Domain Lead Activities","Team Scheduling"],"Resource Allocation":["Assign Roles","Track Resources"],Development:["Frontend Tasks","Backend Tasks"],Deployment:["Staging Deployment","Production Deployment"],"Milestone Review":["SNO Integration Activities","Client Feedback Review"],"Code Review":["PR Review","Bug Fix Review"],"Weekly Report":["SR & CSM","Support Summary"],"Final Report":["Summary Presentation","Retrospective"]},x=o=>{const r=parseFloat(o);return!isNaN(r)&&r>=0&&r<=24},O=({index:o,data:r,onChange:l,onDelete:c,handleTimeSave:g})=>{const i=s=>{const{name:a,value:y}=s.target;l(o,{...r,[a]:y})};h.useEffect(()=>{r.time!==""?g(!0):g(!1)},[r.time]);const u=!!r.category;return e.jsxs(M,{elevation:4,sx:{display:"flex",flexDirection:"column",gap:2,py:3,minWidth:300,backgroundColor:"white",position:"relative"},children:[e.jsxs(j,{required:!0,fullWidth:!0,variant:"outlined",children:[e.jsx(k,{shrink:!0,children:"Non Ticket Delivery Work Category"}),e.jsx(C,{name:"category",value:r.category,onChange:i,label:"Non Ticket Delivery Work Category",notched:!0,children:B.map((s,a)=>e.jsx(D,{value:s,children:s},a))})]}),u&&e.jsxs(j,{required:!0,fullWidth:!0,variant:"outlined",children:[e.jsx(k,{shrink:!0,children:"Non Ticket Delivery Work Sub-Category"}),e.jsx(C,{name:"subCategory",value:r.subCategory,onChange:i,label:"Non Ticket Delivery Work Sub-Category",notched:!0,children:(H[r.category]||[]).map((s,a)=>e.jsx(D,{value:s,children:s},a))})]}),u&&e.jsxs(j,{required:!0,fullWidth:!0,variant:"outlined",children:[e.jsx(k,{shrink:!0,children:"Non Ticket Delivery Work Item"}),e.jsx(C,{name:"workItem",value:r.workItem,onChange:i,label:"Non Ticket Delivery Work Item",notched:!0,children:(L[r.subCategory]||[]).map((s,a)=>e.jsx(D,{value:s,children:s},a))})]}),u&&e.jsx(T,{label:"Time (e.g. 1.5)",name:"time",value:r.time,onChange:i,required:!0,placeholder:"e.g., 1.5",error:r.time&&!x(r.time),helperText:r.time&&!x(r.time)?"Please enter valid decimal hours (e.g., 1.5)":""}),u&&e.jsx(T,{label:"Comments",name:"comments",value:r.comments,onChange:i,required:!0,multiline:!0,minRows:2})]})},z=()=>{const[o,r]=h.useState([{category:"",subCategory:"",workItem:"",time:"",comments:""}]),[l,c]=h.useState({open:!1,message:"",severity:"success"}),[g,i]=h.useState([]),[u,s]=h.useState(!1),[a,y]=h.useState(!1),R=(t,n)=>{const v=[...o];v[t]=n,r(v)},S=t=>{const n=o.filter((v,m)=>m!==t);r(n)},b=t=>{y(t)},w=t=>t.category&&t.subCategory&&t.workItem&&x(t.time)&&t.comments.trim()!=="",I=()=>{const t=o.filter(w);if(o.some(m=>m.time&&!x(m.time))){c({open:!0,message:"Invalid time format in one or more items",severity:"error"});return}if(t.reduce((m,W)=>m+parseFloat(W.time||0),0)>9){c({open:!0,message:"Exceeded Time Limit (Max 9 hours)",severity:"error"});return}if(t.length===0){c({open:!0,message:"Please complete at least one valid entry.",severity:"error"});return}i(t),s(!0),c({open:!0,message:"Data saved successfully!",severity:"success"})};return e.jsxs(p,{sx:{},children:[e.jsx(p,{sx:{display:"flex",overflowX:"auto",gap:2},children:o.map((t,n)=>e.jsx(O,{index:n,data:t,onChange:R,onDelete:S,handleTimeSave:b},n))}),a&&e.jsx(f,{variant:"contained",color:"primary",onClick:I,children:"Save"}),e.jsx(p,{sx:{display:"flex"}}),e.jsx(F,{open:l.open,autoHideDuration:3e3,onClose:()=>c({...l,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(N,{severity:l.severity,sx:{width:"100%"},children:l.message})}),e.jsxs(P,{open:u,onClose:()=>s(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(A,{children:"Saved Data"}),e.jsx(E,{dividers:!0,children:g.map((t,n)=>e.jsxs(p,{mb:2,children:[e.jsx(d,{variant:"subtitle1",children:e.jsxs("strong",{children:["Entry ",n+1]})}),e.jsxs(d,{children:["Category: ",t.category]}),e.jsxs(d,{children:["Sub Category: ",t.subCategory]}),e.jsxs(d,{children:["Work Item: ",t.workItem]}),e.jsxs(d,{children:["Time: ",t.time]}),e.jsxs(d,{children:["Comments: ",t.comments]})]},n))}),e.jsx(q,{children:e.jsx(f,{onClick:()=>s(!1),color:"primary",variant:"contained",children:"Close"})})]})]})};export{z as default};
