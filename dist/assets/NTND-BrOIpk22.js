import{r as g,j as e,a9 as v,af as D,ag as S,ah as w,_ as d,P as W,ai as y,aj as j,ak as k,ac as C,al as T,aa as N,am as F}from"./index-DMLDlOV-.js";import{D as M,a as P,b as A,c as E}from"./DialogTitle-D2JH78aD.js";const q=["Planning","Execution","Review","Reporting"],B={Planning:["Team Management","Resource Allocation"],Execution:["Development","Deployment"],Review:["Milestone Review","Code Review"],Reporting:["Weekly Report","Final Report"]},H={"Team Management":["Domain Lead Activities","Team Scheduling"],"Resource Allocation":["Assign Roles","Track Resources"],Development:["Frontend Tasks","Backend Tasks"],Deployment:["Staging Deployment","Production Deployment"],"Milestone Review":["SNO Integration Activities","Client Feedback Review"],"Code Review":["PR Review","Bug Fix Review"],"Weekly Report":["SR & CSM","Support Summary"],"Final Report":["Summary Presentation","Retrospective"]},p=n=>{const r=parseFloat(n);return!isNaN(r)&&r>=0&&r<=24},L=({index:n,data:r,onChange:m,onDelete:i})=>{const l=s=>{const{name:o,value:x}=s.target;m(n,{...r,[o]:x})},c=!!r.category;return e.jsxs(W,{elevation:4,sx:{display:"flex",flexDirection:"column",gap:2,py:2,minWidth:300,backgroundColor:"white",position:"relative"},children:[e.jsxs(y,{required:!0,fullWidth:!0,variant:"outlined",children:[e.jsx(j,{shrink:!0,children:"Non Ticket Delivery Work Category"}),e.jsx(k,{name:"category",value:r.category,onChange:l,label:"Non Ticket Delivery Work Category",notched:!0,children:q.map((s,o)=>e.jsx(C,{value:s,children:s},o))})]}),c&&e.jsxs(y,{required:!0,fullWidth:!0,variant:"outlined",children:[e.jsx(j,{shrink:!0,children:"Non Ticket Delivery Work Sub-Category"}),e.jsx(k,{name:"subCategory",value:r.subCategory,onChange:l,label:"Non Ticket Delivery Work Sub-Category",notched:!0,children:(B[r.category]||[]).map((s,o)=>e.jsx(C,{value:s,children:s},o))})]}),c&&e.jsxs(y,{required:!0,fullWidth:!0,variant:"outlined",children:[e.jsx(j,{shrink:!0,children:"Non Ticket Delivery Work Item"}),e.jsx(k,{name:"workItem",value:r.workItem,onChange:l,label:"Non Ticket Delivery Work Item",notched:!0,children:(H[r.subCategory]||[]).map((s,o)=>e.jsx(C,{value:s,children:s},o))})]}),c&&e.jsx(T,{label:"Time (e.g. 1.5)",name:"time",value:r.time,onChange:l,required:!0,placeholder:"e.g., 1.5",error:r.time&&!p(r.time),helperText:r.time&&!p(r.time)?"Please enter valid decimal hours (e.g., 1.5)":""}),c&&e.jsx(T,{label:"Comments",name:"comments",value:r.comments,onChange:l,required:!0,multiline:!0,minRows:2}),c&&n>=3&&e.jsx(N,{onClick:()=>i(n),sx:{position:"absolute",top:10,right:10},children:e.jsx(F,{})})]})},_=()=>{const[n,r]=g.useState([{category:"",subCategory:"",workItem:"",time:"",comments:""}]),[m,i]=g.useState({open:!1,message:"",severity:"success"}),[l,c]=g.useState([]),[s,o]=g.useState(!1),x=(t,a)=>{const h=[...n];h[t]=a,r(h)},f=t=>{const a=n.filter((h,u)=>u!==t);r(a)},R=t=>t.category&&t.subCategory&&t.workItem&&p(t.time)&&t.comments.trim()!=="",b=()=>{const t=n.filter(R);if(n.some(u=>u.time&&!p(u.time))){i({open:!0,message:"Invalid time format in one or more items",severity:"error"});return}if(t.reduce((u,I)=>u+parseFloat(I.time||0),0)>9){i({open:!0,message:"Exceeded Time Limit (Max 9 hours)",severity:"error"});return}if(t.length===0){i({open:!0,message:"Please complete at least one valid entry.",severity:"error"});return}c(t),o(!0),i({open:!0,message:"Data saved successfully!",severity:"success"})};return e.jsxs(v,{sx:{},children:[e.jsx(v,{sx:{display:"flex",overflowX:"auto",gap:2},children:n.map((t,a)=>e.jsx(L,{index:a,data:t,onChange:x,onDelete:f},a))}),e.jsx(v,{mt:2,sx:{display:"flex",gap:2},children:e.jsx(D,{variant:"contained",color:"primary",onClick:b,children:"Save"})}),e.jsx(S,{open:m.open,autoHideDuration:3e3,onClose:()=>i({...m,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(w,{severity:m.severity,sx:{width:"100%"},children:m.message})}),e.jsxs(M,{open:s,onClose:()=>o(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(P,{children:"Saved Data"}),e.jsx(A,{dividers:!0,children:l.map((t,a)=>e.jsxs(v,{mb:2,children:[e.jsx(d,{variant:"subtitle1",children:e.jsxs("strong",{children:["Entry ",a+1]})}),e.jsxs(d,{children:["Category: ",t.category]}),e.jsxs(d,{children:["Sub Category: ",t.subCategory]}),e.jsxs(d,{children:["Work Item: ",t.workItem]}),e.jsxs(d,{children:["Time: ",t.time]}),e.jsxs(d,{children:["Comments: ",t.comments]})]},a))}),e.jsx(E,{children:e.jsx(D,{onClick:()=>o(!1),color:"primary",variant:"contained",children:"Close"})})]})]})};export{_ as default};
