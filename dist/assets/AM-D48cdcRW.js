import{r as i,j as e,a9 as u,al as r,af as A,aw as s,_ as m,ag as z,ah as R}from"./index-DMLDlOV-.js";const O={101:{type:"Assistance",shortdescription:"Fix login issue",category:"Defect",Priority:"High",Application:"AppX",RealizationGroup:"DevOps",FunctionalDomain:"Login Services",State:"Open",ExternalRef1:"EXT-001",created:"2023-10-01",closed:"2023-10-05",estTime:"3h",burnt:"1h",remaining:"2h"},202:{type:"Correction",shortdescription:"Add dark mode",category:"Continuous improvement",Priority:"Standard",Application:"BS-MYWORX",RealizationGroup:"SMC",FunctionalDomain:"BS - DATALAKE RH",ExternalRef1:"EXT-002",State:"New",estTime:"6h",burnt:"2h",remaining:"4h"},303:{type:"PMR/PMON/Incident",shortdescription:"Optimize dashboard load time",category:"Performance",Priority:"Medium",Application:"DashboardApp",RealizationGroup:"Frontend",FunctionalDomain:"Analytics",ExternalRef1:"EXT-003",State:"In Progress",estTime:"5h",burnt:"1h",remaining:"4h"}};function I({title:v,canDelete:b,onDelete:g}){const[n,o]=i.useState(""),[d,p]=i.useState(""),[a,j]=i.useState(null),[T,k]=i.useState(""),[C,h]=i.useState(!1),[f,D]=i.useState(""),[P,E]=i.useState(""),[F,B]=i.useState(""),[x,c]=i.useState(""),[S,y]=i.useState(!1),[W,G]=i.useState(!1),w=()=>{const t=O[n];t&&t.type===d?j(t):(k("Ticket not found or type mismatch."),h(!0),j(null))},M=()=>{const t=parseInt(a.remaining),l=parseInt(f);l>t?(y(!0),c(`Needs Approval for ${l-t}h.`)):(c("Data Saved Successfully."),y(!1))};return e.jsxs(u,{sx:{p:1,flex:"0 0 30%",minWidth:400,position:"relative"},children:[e.jsxs(u,{sx:{display:"flex",gap:1,boxShadow:1,mb:2,p:2,borderRadius:1},children:[e.jsxs(r,{select:!0,fullWidth:!0,size:"small",variant:"standard",label:"Type",value:d,onChange:t=>p(t.target.value),SelectProps:{native:!0},children:[e.jsx("option",{value:""}),e.jsx("option",{value:"Assistance",children:"Assistance"}),e.jsx("option",{value:"Correction",children:"Correction"}),e.jsx("option",{value:"PMR/PMON/Incident",children:"PMR/PMON/Incident"}),e.jsx("option",{value:"Habilitation",children:"Habilitation"})]}),e.jsx(r,{fullWidth:!0,size:"small",variant:"standard",label:"Ticket No",value:n,onChange:t=>o(t.target.value)}),e.jsx(A,{variant:"contained",size:"small",sx:{whiteSpace:"nowrap"},onClick:w,children:"Go"})]}),e.jsx(s,{container:!0,spacing:1,children:a&&e.jsxs(e.Fragment,{children:[e.jsx(m,{variant:"p",sx:{fontWeight:"500"},children:"Explicit Attributes :"}),e.jsx(s,{container:!0,size:12,sx:{boxShadow:1,p:2,borderRadius:1},children:[{label:"Short Description",value:a.shortdescription},{label:"Category",value:a.category},{label:"Priority",value:a.Priority},{label:"Application",value:a.Application},{label:"Realization Group",value:a.RealizationGroup},{label:"Functional Domain",value:a.FunctionalDomain},{label:"External Ref",value:a.ExternalRef1},{label:"State",value:a.State}].map((t,l)=>e.jsx(s,{item:!0,size:6,sx:{p:1},children:e.jsx(r,{fullWidth:!0,size:"small",variant:"standard",label:t.label,value:t.value,disabled:!0,InputProps:{readOnly:!0}})},l))}),e.jsx(m,{variant:"p",sx:{fontWeight:"500"},children:"Implicit Attributes :"}),e.jsxs(s,{container:!0,size:12,sx:{boxShadow:1,p:2,borderRadius:1},children:[[{label:"Est. Time",value:a.estTime},{label:"Burnt",value:a.burnt},{label:"Remaining",value:a.remaining}].map((t,l)=>e.jsx(s,{item:!0,size:5,sx:{p:1},children:e.jsx(r,{fullWidth:!0,size:"small",variant:"standard",label:t.label,value:t.value,disabled:!0,InputProps:{readOnly:!0}})},l)),e.jsx(s,{item:!0,size:5,sx:{p:1},children:e.jsx(r,{fullWidth:!0,size:"small",variant:"standard",label:"To Book(in h)",value:f,onChange:t=>D(t.target.value)})})]}),S&&e.jsxs(e.Fragment,{children:[e.jsx(m,{variant:"p",sx:{fontWeight:"500",mt:2},children:"Approval Required :"}),e.jsxs(s,{container:!0,size:12,direction:"column",space:12,sx:{boxShadow:1,p:2,borderRadius:1},children:[e.jsx(s,{item:!0,size:12,p:1,children:e.jsx(r,{fullWidth:!0,size:"small",variant:"standard",label:"Additional Efforts To Book(in h)",value:P,onChange:t=>E(t.target.value)})}),e.jsx(s,{item:!0,size:12,p:1,children:e.jsx(r,{fullWidth:!0,size:"small",variant:"standard",label:"Bussiness Reason",multiline:!0,minRows:1,value:F,onChange:t=>B(t.target.value)})})]})]}),e.jsx(s,{item:!0,size:12,children:e.jsx(A,{variant:"contained",size:"medium",fullWidth:!0,onClick:M,children:S?"Send Approval":W?"Saved":"Save"})})]})}),e.jsx(z,{open:C,autoHideDuration:3e3,onClose:()=>h(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(R,{onClose:()=>h(!1),severity:"error",sx:{width:"100%"},children:T})}),x&&e.jsx(z,{open:!!x,autoHideDuration:3e3,onClose:()=>c(""),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(R,{onClose:()=>c(""),severity:"success",sx:{width:"100%"},children:x})})]})}const N=()=>{const[v,b]=i.useState([{id:1}]),g=n=>{b(o=>o.filter((d,p)=>p<3||d.id!==n))};return e.jsx(u,{sx:{},children:e.jsx(u,{sx:{display:"flex",gap:1,overflowX:"auto"},children:v.map((n,o)=>e.jsx(I,{canDelete:o>=3,onDelete:()=>g(n.id)},n.id))})})};export{N as default};
