import{r as i,j as e,a9 as p,al as r,af as A,aw as s,_ as v,ag as T,ah as k}from"./index-DMLDlOV-.js";const O={101:{type:"Evolution",shortdescription:"Fix login issue",category:"Defect",Priority:"High",Application:"AppX",RealizationGroup:"DevOps",FunctionalDomain:"Login Services",ExternalRef1:"EXT-001",State:"Open",estTime:"3h",burnt:"1h",remaining:"2h"},202:{type:"Feature",description:"Add dark mode",category:"Continuous improvement",Priority:"Standard",Application:"BS-MYWORX",RealizationGroup:"SMC",FunctionalDomain:"BS - DATALAKE RH",ExternalRef1:"EXT-002",State:"New",estTime:"6h",burnt:"2h",remaining:"4h"},303:{type:"Enhancement",description:"Optimize dashboard load time",category:"Performance",Priority:"Medium",Application:"DashboardApp",RealizationGroup:"Frontend",FunctionalDomain:"Analytics",ExternalRef1:"EXT-003",State:"In Progress",estTime:"5h",burnt:"1h",remaining:"4h"}};function G({title:b,canDelete:f,onDelete:g}){const[n,l]=i.useState(""),[o,h]=i.useState(""),[a,m]=i.useState(null),[R,S]=i.useState(""),[E,u]=i.useState(!1),[j,D]=i.useState(""),[C,F]=i.useState(""),[x,d]=i.useState(""),[y,z]=i.useState(!1),[B,H]=i.useState(!1),[W,w]=i.useState(""),P=()=>{if(!/^\d+$/.test(n)){S("Ticket number must be numeric."),u(!0),m(null);return}const t=O[parseInt(n)];t&&t.type===o?m(t):(S("Ticket not found or type mismatch."),u(!0),m(null))},I=()=>{const t=parseInt(a.remaining);parseInt(j)>t?(z(!0),d("Approval Required Requested more hours of")):(d("Data Saved Successfully."),z(!1))};return e.jsxs(p,{sx:{p:1,flex:"0 0 30%",minWidth:400,position:"relative"},children:[e.jsxs(p,{sx:{display:"flex",gap:1,boxShadow:1,mb:2,p:2,borderRadius:1},children:[e.jsxs(r,{select:!0,fullWidth:!0,size:"small",variant:"standard",label:"Type",value:o,onChange:t=>h(t.target.value),SelectProps:{native:!0},children:[e.jsx("option",{value:""}),e.jsx("option",{value:"Evolution",children:"Evolution"})]}),e.jsx(r,{fullWidth:!0,size:"small",variant:"standard",label:"Ticket No",value:n,onChange:t=>l(t.target.value)}),e.jsx(A,{variant:"contained",size:"small",sx:{whiteSpace:"nowrap"},onClick:P,children:"Go"})]}),e.jsx(s,{container:!0,spacing:1,children:a&&e.jsxs(e.Fragment,{children:[e.jsx(v,{variant:"p",sx:{fontWeight:"500"},children:"Explicit Attributes :"}),e.jsx(s,{container:!0,size:12,sx:{boxShadow:1,p:2,borderRadius:1},children:[{label:"Short Description",value:a.shortdescription},{label:"Category",value:a.category},{label:"Priority",value:a.Priority},{label:"Application",value:a.Application},{label:"Realization Group",value:a.RealizationGroup},{label:"Functional Domain",value:a.FunctionalDomain},{label:"External Ref",value:a.ExternalRef1},{label:"State",value:a.State}].map((t,c)=>e.jsx(s,{item:!0,size:6,sx:{p:1},children:e.jsx(r,{fullWidth:!0,size:"small",variant:"standard",label:t.label,value:t.value,disabled:!0,InputProps:{readOnly:!0}})},c))}),e.jsx(v,{variant:"p",sx:{fontWeight:"500"},children:"Implicit Attributes :"}),e.jsxs(s,{container:!0,size:12,sx:{boxShadow:1,p:2,borderRadius:1},children:[[{label:"Est. Time",value:a.estTime},{label:"Burnt",value:a.burnt},{label:"Remaining",value:a.remaining}].map((t,c)=>e.jsx(s,{item:!0,size:5,sx:{p:1},children:e.jsx(r,{fullWidth:!0,size:"small",variant:"standard",label:t.label,value:t.value,disabled:!0,InputProps:{readOnly:!0}})},c)),e.jsx(s,{item:!0,size:5,sx:{p:1},children:e.jsx(r,{fullWidth:!0,size:"small",variant:"standard",label:"To Book(in h)",value:j,onChange:t=>D(t.target.value)})})]}),y&&e.jsxs(e.Fragment,{children:[e.jsx(v,{variant:"p",sx:{fontWeight:"500",mt:2},children:"Approval Required :"}),e.jsxs(s,{container:!0,size:12,direction:"column",space:12,sx:{boxShadow:1,p:2,borderRadius:1},children:[e.jsx(s,{item:!0,size:12,p:1,children:e.jsx(r,{fullWidth:!0,size:"small",variant:"standard",label:"Additional Efforts To Book(in h)",value:W,onChange:t=>w(t.target.value)})}),e.jsx(s,{item:!0,size:12,p:1,children:e.jsx(r,{fullWidth:!0,size:"small",variant:"standard",label:"Bussiness Reason",multiline:!0,minRows:1,value:C,onChange:t=>F(t.target.value)})})]})]}),e.jsx(s,{item:!0,size:12,children:e.jsx(A,{variant:"contained",size:"medium",fullWidth:!0,onClick:I,children:y?"Send Approval":B?"Saved":"Save"})})]})}),e.jsx(T,{open:E,autoHideDuration:3e3,onClose:()=>u(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(k,{onClose:()=>u(!1),severity:"error",sx:{width:"100%"},children:R})}),x&&e.jsx(T,{open:!!x,autoHideDuration:3e3,onClose:()=>d(""),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(k,{onClose:()=>d(""),severity:"success",sx:{width:"100%"},children:x})})]})}const M=()=>{const[b,f]=i.useState([{id:1}]),g=n=>{f(l=>l.filter((o,h)=>h<3||o.id!==n))};return e.jsx(p,{sx:{},children:e.jsx(p,{sx:{display:"flex",gap:1,overflowX:"auto"},children:b.map((n,l)=>e.jsx(G,{canDelete:l>=3,onDelete:()=>g(n.id)},n.id))})})};export{M as default};
